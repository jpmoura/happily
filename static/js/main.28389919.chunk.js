(this.webpackJsonphappily=this.webpackJsonphappily||[]).push([[0],{250:function(e,t,n){},395:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=(n(250),n(251),n(21)),o=n.n(a),i=n(30),s=n(450),l=n(451),j=n(430),d=n(449),u=n(453),b=n(422),p=n(24),h=n(28),O=n(452),m=n(426),x=n(160),f=n(427),v=n(428),g=n(458),y="happyHourSettings/SET_BEER_PRICE",w="happyHourSettings/TOGGLE_HAS_COVERT",S="happyHourSettings/SET_COVERT",C="happyHourSettings/TOGGLE_HAS_SERVICE_FEE",P="happyHourSettings/SET_SERVICE_FEE",E={beerPrice:void 0,hasCovert:!1,covertPrice:void 0,hasServiceFee:!1,serviceFee:void 0};function k(e){return{type:y,payload:{price:e}}}function F(e){return{type:S,payload:{price:e}}}function N(e){return{type:P,payload:{fee:e}}}var _=n(4);function I(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.happyHourSettings})),n=Object(r.useState)(t),c=Object(h.a)(n,2),a=c[0],o=c[1];function s(t){var n;switch(t.target.name){case"beerPrice":n=k;break;case"covertPrice":n=F;break;case"serviceFee":n=N;break;default:return}var r=Number.parseFloat(t.target.value),c=Object(p.a)({},a);c[t.target.name]=r,o((function(){return c})),e(n(r))}return Object(_.jsx)(u.a,{children:Object(_.jsx)("form",{children:Object(_.jsxs)(b.a,{container:!0,spacing:2,children:[Object(_.jsx)(b.a,{item:!0,xs:12,children:Object(_.jsx)(O.a,{name:"beerPrice",autoFocus:!0,fullWidth:!0,label:"Pre\xe7o da cerveja",type:"number",placeholder:"Pre\xe7o da cerveja",InputProps:{startAdornment:Object(_.jsx)(m.a,{position:"start",children:Object(_.jsx)(x.a,{children:"R$"})})},onChange:s})}),Object(_.jsx)(b.a,{item:!0,xs:12,children:Object(_.jsxs)(f.a,{row:!0,children:[Object(_.jsx)(v.a,{control:Object(_.jsx)(g.a,{color:"primary",checked:a.hasCovert,onClick:function(){o((function(){return Object(p.a)(Object(p.a)({},a),{},{hasCovert:!a.hasCovert})})),e({type:w})},name:"hasCovert"}),label:"Tem Covert?"}),a.hasCovert&&Object(_.jsx)(O.a,{name:"covertPrice",label:"Pre\xe7o da covert",type:"number",placeholder:"Pre\xe7o do covert",InputProps:{startAdornment:Object(_.jsx)(m.a,{position:"start",children:Object(_.jsx)(x.a,{children:"R$"})})},onChange:s})]})}),Object(_.jsx)(b.a,{item:!0,xs:12,children:Object(_.jsxs)(f.a,{row:!0,children:[Object(_.jsx)(v.a,{control:Object(_.jsx)(g.a,{color:"primary",checked:a.hasServiceFee,onClick:function(){o((function(){return Object(p.a)(Object(p.a)({},a),{},{hasServiceFee:!a.hasServiceFee})})),e({type:C})},name:"hasServiceFee"}),label:"Tem taxa de servi\xe7o?"}),a.hasServiceFee&&Object(_.jsx)(O.a,{name:"serviceFee",label:"Taxa de servi\xe7o",type:"number",placeholder:"Porcentagem da taxa de servi\xe7o",InputProps:{endAdornment:Object(_.jsx)(m.a,{position:"end",children:Object(_.jsx)(x.a,{children:"%"})})},onChange:s})]})})]})})})}var T=n(70),D=n(120),A=n(432),R=n(433),H=n(431),W=Object(j.a)((function(e){return{root:{background:H.a[600],color:"black"},title:{flexGrow:1},secondaryToolbar:{marginBottom:e.spacing(2)},icon:{marginRight:e.spacing(1)}}}));function B(){var e=W();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(A.a,{className:e.root,children:Object(_.jsx)(R.a,{children:Object(_.jsxs)(x.a,{variant:"h6",className:e.title,children:[Object(_.jsx)(T.a,{className:e.icon,icon:D.b}),"Happily"]})})}),Object(_.jsx)(R.a,{className:e.secondaryToolbar})]})}var G=n(429),L=n(155),M=n(127),U=Object(j.a)((function(e){return{root:{position:"fixed",bottom:0,width:"100%",left:0,background:M.a[800],color:"white"},year:{marginRight:e.spacing(1)}}}));function V(){var e=U(),t=(new Date).getFullYear();return Object(_.jsx)("footer",{className:e.root,children:Object(_.jsxs)(b.a,{container:!0,alignItems:"baseline",justify:"space-between",children:[Object(_.jsxs)(b.a,{item:!0,children:[Object(_.jsx)(G.a,{href:"https://github.com/jpmoura",target:"_blank",rel:"noopener noreferrer",children:Object(_.jsx)(T.a,{icon:L.a,color:"white"})}),Object(_.jsx)(G.a,{href:"https://www.linkedin.com/in/mourajp/",target:"_blank",rel:"noopener noreferrer",children:Object(_.jsx)(T.a,{icon:L.b,color:"white"})})]}),Object(_.jsx)(b.a,{item:!0,className:e.year,children:Object(_.jsx)(x.a,{children:Object(_.jsx)("strong",{children:t})})})]})})}function J(e){var t=e.children;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(B,{}),t,Object(_.jsx)(V,{})]})}J.defaultProps={children:void 0};var $,K=J,X=n(439),z=n(457),Y=n(228);!function(e){e[e.Increment=0]="Increment",e[e.Decrement=1]="Decrement"}($||($={}));var q=$,Q="person/ADD",Z="person/REMOVE",ee="person/INCREMENT_CONSUMPTION",te="person/DECREMENT_CONSUMPTION",ne="person/TOGGLE_SHOW_ADD_PERSON_DIALOG",re={people:[],showAddPersonDialog:!1};function ce(e,t){return t.find((function(t){return t.name===e}))}function ae(e,t,n){var r=ce(e,n.people);return r?(t===q.Decrement&&r.consumption>0&&(r.consumption-=1),t===q.Increment&&(r.consumption+=1),Object(p.a)(Object(p.a)({},n),{},{people:n.people.map((function(t){return t.name===e?r:t}))})):n}function oe(e){return{type:ee,payload:{person:e}}}function ie(e){return{type:te,payload:{person:e}}}var se=n(456),le=n(434),je=n(435),de=n(436),ue=n(437);var be=function(e){var t=e.shouldOpen,n=e.handleClose,c=Object(i.b)(),a=Object(r.useState)(""),o=Object(h.a)(a,2),s=o[0],l=o[1];return Object(_.jsxs)(se.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(_.jsx)(le.a,{id:"form-dialog-title",children:"Adicionar pessoa"}),Object(_.jsx)(je.a,{children:Object(_.jsx)(O.a,{autoFocus:!0,margin:"dense",label:"Nome da pessoa",fullWidth:!0,onChange:function(e){return l(e.currentTarget.value)}})}),Object(_.jsx)(de.a,{children:Object(_.jsxs)(b.a,{container:!0,justify:"space-between",children:[Object(_.jsx)(b.a,{item:!0,children:Object(_.jsx)(ue.a,{onClick:n,color:"secondary",children:"Cancelar"})}),Object(_.jsx)(b.a,{item:!0,children:Object(_.jsx)(ue.a,{onClick:function(){c({type:Q,payload:{person:{name:s,consumption:0}}}),n()},color:"primary",children:"Adicionar"})})]})})]})},pe=n(7),he=n(438),Oe=Object(pe.a)({root:{position:"fixed",bottom:"56px",right:"8px",zIndex:1e4}})(he.a);function me(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.happyHourSettings.beerPrice})),n=Object(i.c)((function(e){return e.people.showAddPersonDialog})),r=t?"Adicionar Pessoa":"Determine o pre\xe7o da cerveja antes de adicionar uma pessoa",c=t||0===t;function a(){e({type:ne})}return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(z.a,{title:r,placement:"top-start",children:Object(_.jsx)(Oe,{color:"primary",onClick:a,disabled:!c,children:Object(_.jsx)(X.a,{})})}),Object(_.jsx)(be,{shouldOpen:n,handleClose:a})]})}var xe=n(44),fe=n(440),ve=n(441),ge=n(224),ye=n(225),we=n(102),Se=n(97),Ce=n(229);function Pe(){var e=Object(xe.a)(),t=Object(i.c)((function(e){return e.people.people}));return Object(_.jsx)(fe.a,{height:300,children:Object(_.jsxs)(ve.a,{data:t,children:[Object(_.jsx)(ge.a,{dataKey:"name"}),Object(_.jsx)(ye.a,{}),Object(_.jsx)(we.a,{}),Object(_.jsx)(Se.a,{}),Object(_.jsx)(Ce.a,{dataKey:"consumption",name:"Consumo",fill:e.palette.primary.main})]})})}var Ee=n(445),ke=n(446),Fe=n(448),Ne=n(447),_e=Object(j.a)((function(e){return{deleteButton:{color:e.palette.error.main},beerIcon:{marginRight:e.spacing(1)}}}));function Ie(e){var t=e.person,n=Object(i.b)(),r=Object(i.c)((function(e){return e.happyHourSettings})),c=_e(),a=t.consumption>0;function o(e){var r;r=e===q.Decrement?ie:oe,n(r(t))}return Object(_.jsxs)(Ee.a,{children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(b.a,{container:!0,spacing:2,direction:"column",children:[Object(_.jsxs)(b.a,{container:!0,item:!0,justify:"space-between",children:[Object(_.jsx)(x.a,{variant:"h5",component:"span",children:t.name}),Object(_.jsx)(z.a,{title:"Remover ".concat(t.name),placement:"top-start",children:Object(_.jsx)(G.a,{className:c.deleteButton,onClick:function(){n(function(e){return{type:Z,payload:{person:e}}}(t))},children:Object(_.jsx)(Ne.a,{})})})]}),Object(_.jsx)(b.a,{item:!0,children:Object(_.jsxs)(x.a,{variant:"h6",component:"span",children:[Object(_.jsx)(T.a,{className:c.beerIcon,icon:D.a}),t.consumption]})}),Object(_.jsx)(b.a,{item:!0,children:Object(_.jsxs)(x.a,{variant:"h6",component:"span",children:["R$",function(){var e=0;return r.beerPrice&&(e+=r.beerPrice*t.consumption),r.hasServiceFee&&r.serviceFee&&(e*=r.serviceFee/100+1),r.hasCovert&&r.covertPrice&&(e+=r.covertPrice),e}()]})})]})}),Object(_.jsx)(Fe.a,{children:Object(_.jsxs)(b.a,{container:!0,justify:"space-between",children:[Object(_.jsx)(b.a,{item:!0,children:Object(_.jsx)(z.a,{title:"Diminuir o consumo em 1 unidade",placement:"top-start",children:Object(_.jsx)("span",{children:Object(_.jsx)(ue.a,{variant:"contained",color:"secondary",onClick:function(){return o(q.Decrement)},disabled:!a,children:"Bebeu n\xe3o"})})})}),Object(_.jsx)(b.a,{item:!0,children:Object(_.jsx)(z.a,{title:"Aumentar o consumo em 1 unidade",placement:"top-start",children:Object(_.jsx)(ue.a,{variant:"contained",color:"primary",onClick:function(){return o(q.Increment)},children:"Bebeu"})})})]})})]})}function Te(){var e=Object(i.c)((function(e){return e.people.people})),t=e.length>0;return Object(_.jsxs)(K,{children:[Object(_.jsxs)(b.a,{container:!0,spacing:4,children:[Object(_.jsx)(b.a,{item:!0,xs:12,children:Object(_.jsx)(I,{})}),e.map((function(e){return function(e){return Object(_.jsx)(b.a,{item:!0,xs:12,children:Object(_.jsx)(Ie,{person:e})},e.name)}(e)})),t&&Object(_.jsx)(b.a,{item:!0,xs:12,children:Object(_.jsx)(Pe,{})})]}),Object(_.jsx)(me,{})]})}var De=Object(j.a)((function(){return{root:{minHeight:"100vh",flexGrow:1,width:"100%"}}}));function Ae(){var e=De();return Object(_.jsx)(d.a,{maxWidth:!1,className:e.root,children:Object(_.jsx)(u.a,{height:"100%",children:Object(_.jsx)(Te,{})})})}var Re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function He(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var We=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,460)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},Be=n(98),Ge=Object(Be.a)({people:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var n=ce(t.payload.person.name,e.people);return n?e:Object(p.a)(Object(p.a)({},e),{},{people:[].concat(Object(Y.a)(e.people),[t.payload.person])});case Z:return Object(p.a)(Object(p.a)({},e),{},{people:e.people.filter((function(e){return e.name!==t.payload.person.name}))});case ee:return ae(t.payload.person.name,q.Increment,e);case te:return ae(t.payload.person.name,q.Decrement,e);case ne:return Object(p.a)(Object(p.a)({},e),{},{showAddPersonDialog:!e.showAddPersonDialog});default:return e}},happyHourSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(p.a)(Object(p.a)({},e),{},{beerPrice:t.payload.price});case w:return Object(p.a)(Object(p.a)({},e),{},{hasCovert:!e.hasCovert});case S:return Object(p.a)(Object(p.a)({},e),{},{covertPrice:t.payload.price});case C:return Object(p.a)(Object(p.a)({},e),{},{hasServiceFee:!e.hasServiceFee});case P:return Object(p.a)(Object(p.a)({},e),{},{serviceFee:t.payload.fee});default:return e}}});var Le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Be.b,Me=function(){var e=localStorage.getItem("happily");return null===e?{}:JSON.parse(e)}(),Ue=Object(Be.c)(Ge,Me,Le());Ue.subscribe((function(){return function(e){var t=JSON.stringify(e);localStorage.setItem("happily",t)}(Ue.getState())}));var Ve=Ue,Je=n(226),$e=n(128),Ke=Object(Je.a)({palette:{primary:{main:$e.a[600]},secondary:{main:M.a[800]},background:{default:M.a[100]}}});o.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(i.a,{store:Ve,children:Object(_.jsxs)(s.a,{theme:Ke,children:[Object(_.jsx)(l.a,{}),Object(_.jsx)(Ae,{})]})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Re?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):He(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):He(t,e)}))}}(),We()}},[[395,1,2]]]);
//# sourceMappingURL=main.28389919.chunk.js.map