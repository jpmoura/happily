(this.webpackJsonphappily=this.webpackJsonphappily||[]).push([[0],{250:function(e,t,n){},395:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=(n(250),n(251),n(21)),o=n.n(a),i=n(30),s=n(450),j=n(451),l=n(430),b=n(449),p=n(453),u=n(422),d=n(24),O=n(28),h=n(452),m=n(426),x=n(160),v=n(427),f=n(428),g=n(458),y="happyHourSettings/SET_BEER_PRICE",S="happyHourSettings/TOGGLE_HAS_COVERT",C="happyHourSettings/SET_COVERT",w="happyHourSettings/TOGGLE_HAS_SERVICE_FEE",P="happyHourSettings/SET_SERVICE_FEE",E={beerPrice:void 0,hasCovert:!1,covertPrice:void 0,hasServiceFee:!1,serviceFee:void 0};function F(e){return{type:y,payload:{price:e}}}function _(e){return{type:C,payload:{price:e}}}function k(e){return{type:P,payload:{fee:e}}}var I=n(4);function N(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.happyHourSettings})),n=Object(r.useState)(t),c=Object(O.a)(n,2),a=c[0],o=c[1];function s(t){var n;switch(t.target.name){case"beerPrice":n=F;break;case"covertPrice":n=_;break;case"serviceFee":n=k;break;default:return}var r=Number.parseFloat(t.target.value),c=Object(d.a)({},a);c[t.target.name]=r,o((function(){return c})),e(n(r))}return Object(I.jsx)(p.a,{children:Object(I.jsx)("form",{children:Object(I.jsxs)(u.a,{container:!0,spacing:2,children:[Object(I.jsx)(u.a,{item:!0,xs:12,children:Object(I.jsx)(h.a,{name:"beerPrice",autoFocus:!0,fullWidth:!0,label:"Pre\xe7o da cerveja",type:"number",placeholder:"Pre\xe7o da cerveja",InputProps:{startAdornment:Object(I.jsx)(m.a,{position:"start",children:Object(I.jsx)(x.a,{children:"R$"})})},onChange:s})}),Object(I.jsx)(u.a,{item:!0,xs:12,children:Object(I.jsxs)(v.a,{row:!0,children:[Object(I.jsx)(f.a,{control:Object(I.jsx)(g.a,{color:"primary",checked:a.hasCovert,onClick:function(){o((function(){return Object(d.a)(Object(d.a)({},a),{},{hasCovert:!a.hasCovert})})),e({type:S})},name:"hasCovert"}),label:"Tem Covert?"}),a.hasCovert&&Object(I.jsx)(h.a,{name:"covertPrice",label:"Pre\xe7o da covert",type:"number",placeholder:"Pre\xe7o do covert",InputProps:{startAdornment:Object(I.jsx)(m.a,{position:"start",children:Object(I.jsx)(x.a,{children:"R$"})})},onChange:s})]})}),Object(I.jsx)(u.a,{item:!0,xs:12,children:Object(I.jsxs)(v.a,{row:!0,children:[Object(I.jsx)(f.a,{control:Object(I.jsx)(g.a,{color:"primary",checked:a.hasServiceFee,onClick:function(){o((function(){return Object(d.a)(Object(d.a)({},a),{},{hasServiceFee:!a.hasServiceFee})})),e({type:w})},name:"hasServiceFee"}),label:"Tem taxa de servi\xe7o?"}),a.hasServiceFee&&Object(I.jsx)(h.a,{name:"serviceFee",label:"Taxa de servi\xe7o",type:"number",placeholder:"Porcentagem da taxa de servi\xe7o",InputProps:{endAdornment:Object(I.jsx)(m.a,{position:"end",children:Object(I.jsx)(x.a,{children:"%"})})},onChange:s})]})})]})})})}var D=n(70),T=n(120),R=n(432),A=n(433),H=n(431),B=Object(l.a)((function(e){return{root:{background:H.a[600],color:"black"},title:{flexGrow:1},secondaryToolbar:{marginBottom:e.spacing(2)},icon:{marginRight:e.spacing(1)}}}));function G(){var e=B();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(R.a,{className:e.root,children:Object(I.jsx)(A.a,{children:Object(I.jsxs)(x.a,{variant:"h6",className:e.title,children:[Object(I.jsx)(D.a,{className:e.icon,icon:T.b}),"Happily"]})})}),Object(I.jsx)(A.a,{className:e.secondaryToolbar})]})}var L=n(429),M=n(155),V=n(127),W=Object(l.a)((function(e){return{root:{position:"fixed",bottom:0,width:"100%",left:0,background:V.a[800],color:"white"},year:{marginRight:e.spacing(1)}}}));function J(){var e=W(),t=(new Date).getFullYear();return Object(I.jsx)("footer",{className:e.root,children:Object(I.jsxs)(u.a,{container:!0,alignItems:"baseline",justify:"space-between",children:[Object(I.jsxs)(u.a,{item:!0,children:[Object(I.jsx)(L.a,{href:"https://github.com/jpmoura",target:"_blank",rel:"noopener noreferrer",children:Object(I.jsx)(D.a,{icon:M.a,color:"white"})}),Object(I.jsx)(L.a,{href:"https://www.linkedin.com/in/mourajp/",target:"_blank",rel:"noopener noreferrer",children:Object(I.jsx)(D.a,{icon:M.b,color:"white"})})]}),Object(I.jsx)(u.a,{item:!0,className:e.year,children:Object(I.jsx)(x.a,{children:Object(I.jsx)("strong",{children:t})})})]})})}function $(e){var t=e.children;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G,{}),t,Object(I.jsx)(J,{})]})}$.defaultProps={children:void 0};var U,K=$,X=n(439),z=n(457),Y=n(228);!function(e){e[e.Increment=0]="Increment",e[e.Decrement=1]="Decrement"}(U||(U={}));var q=U,Q="person/ADD",Z="person/REMOVE",ee="person/INCREMENT_CONSUMPTION",te="person/DECREMENT_CONSUMPTION",ne="person/TOGGLE_SHOW_ADD_PERSON_DIALOG",re={people:[],showAddPersonDialog:!1};function ce(e,t){return t.find((function(t){return t.name===e}))}function ae(e,t,n){var r=ce(e,n.people);return r?(t===q.Decrement&&r.consumption>0&&(r.consumption-=1),t===q.Increment&&(r.consumption+=1),Object(d.a)(Object(d.a)({},n),{},{people:n.people.map((function(t){return t.name===e?r:t}))})):n}function oe(e){return{type:ee,payload:{person:e}}}function ie(e){return{type:te,payload:{person:e}}}var se=n(456),je=n(434),le=n(435),be=n(436),pe=n(437);var ue=function(e){var t=e.shouldOpen,n=e.handleClose,c=Object(i.b)(),a=Object(r.useState)(""),o=Object(O.a)(a,2),s=o[0],j=o[1];return Object(I.jsxs)(se.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(I.jsx)(je.a,{id:"form-dialog-title",children:"Adicionar pessoa"}),Object(I.jsx)(le.a,{children:Object(I.jsx)(h.a,{autoFocus:!0,margin:"dense",label:"Nome da pessoa",fullWidth:!0,onChange:function(e){return j(e.currentTarget.value)}})}),Object(I.jsx)(be.a,{children:Object(I.jsxs)(u.a,{container:!0,justify:"space-between",children:[Object(I.jsx)(u.a,{item:!0,children:Object(I.jsx)(pe.a,{onClick:n,color:"secondary",children:"Cancelar"})}),Object(I.jsx)(u.a,{item:!0,children:Object(I.jsx)(pe.a,{onClick:function(){c({type:Q,payload:{person:{name:s,consumption:0}}}),n()},color:"primary",children:"Adicionar"})})]})})]})},de=n(7),Oe=n(438),he=Object(de.a)({root:{position:"fixed",bottom:"56px",right:"8px",zIndex:1e4}})(Oe.a);function me(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.happyHourSettings.beerPrice})),n=Object(i.c)((function(e){return e.people.showAddPersonDialog})),r=t?"Adicionar Pessoa":"Determine o pre\xe7o da cerveja antes de adicionar uma pessoa",c=t||0===t;function a(){e({type:ne})}return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(z.a,{title:r,placement:"top-start",children:Object(I.jsx)(he,{color:"primary",onClick:a,disabled:!c,children:Object(I.jsx)(X.a,{})})}),Object(I.jsx)(ue,{shouldOpen:n,handleClose:a})]})}var xe=n(44),ve=n(440),fe=n(441),ge=n(224),ye=n(225),Se=n(102),Ce=n(97),we=n(229);function Pe(){var e=Object(xe.a)(),t=Object(i.c)((function(e){return e.people.people}));return Object(I.jsx)(ve.a,{height:300,children:Object(I.jsxs)(fe.a,{data:t,children:[Object(I.jsx)(ge.a,{dataKey:"name"}),Object(I.jsx)(ye.a,{}),Object(I.jsx)(Se.a,{}),Object(I.jsx)(Ce.a,{}),Object(I.jsx)(we.a,{dataKey:"consumption",name:"Consumo",fill:e.palette.primary.main})]})})}var Ee=n(445),Fe=n(446),_e=n(448),ke=n(447),Ie=Object(l.a)((function(e){return{deleteButton:{color:e.palette.error.main},beerIcon:{marginRight:e.spacing(1)}}}));function Ne(e){var t=e.person,n=Object(i.b)(),r=Object(i.c)((function(e){return e.happyHourSettings})),c=Ie(),a=t.consumption>0;function o(e){var r;r=e===q.Decrement?ie:oe,n(r(t))}return Object(I.jsxs)(Ee.a,{children:[Object(I.jsx)(Fe.a,{children:Object(I.jsxs)(u.a,{container:!0,spacing:2,direction:"column",children:[Object(I.jsxs)(u.a,{container:!0,item:!0,justify:"space-between",children:[Object(I.jsx)(x.a,{variant:"h5",component:"span",children:t.name}),Object(I.jsx)(z.a,{title:"Remover ".concat(t.name),placement:"top-start",children:Object(I.jsx)(L.a,{className:c.deleteButton,onClick:function(){n(function(e){return{type:Z,payload:{person:e}}}(t))},children:Object(I.jsx)(ke.a,{})})})]}),Object(I.jsx)(u.a,{item:!0,children:Object(I.jsxs)(x.a,{variant:"h6",component:"span",children:[Object(I.jsx)(D.a,{className:c.beerIcon,icon:T.a}),t.consumption]})}),Object(I.jsx)(u.a,{item:!0,children:Object(I.jsxs)(x.a,{variant:"h6",component:"span",children:["R$",function(){var e=0;return r.beerPrice&&(e+=r.beerPrice*t.consumption),r.hasServiceFee&&r.serviceFee&&(e*=r.serviceFee/100+1),r.hasCovert&&r.covertPrice&&(e+=r.covertPrice),e}()]})})]})}),Object(I.jsx)(_e.a,{children:Object(I.jsxs)(u.a,{container:!0,justify:"space-between",children:[Object(I.jsx)(u.a,{item:!0,children:Object(I.jsx)(z.a,{title:"Diminuir o consumo em 1 unidade",placement:"top-start",children:Object(I.jsx)("span",{children:Object(I.jsx)(pe.a,{variant:"contained",color:"secondary",onClick:function(){return o(q.Decrement)},disabled:!a,children:"Bebeu n\xe3o"})})})}),Object(I.jsx)(u.a,{item:!0,children:Object(I.jsx)(z.a,{title:"Aumentar o consumo em 1 unidade",placement:"top-start",children:Object(I.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){return o(q.Increment)},children:"Bebeu"})})})]})})]})}function De(){var e=Object(i.c)((function(e){return e.people.people})),t=e.length>0;return Object(I.jsxs)(K,{children:[Object(I.jsxs)(u.a,{container:!0,spacing:4,children:[Object(I.jsx)(u.a,{item:!0,xs:12,children:Object(I.jsx)(N,{})}),e.map((function(e){return function(e){return Object(I.jsx)(u.a,{item:!0,xs:12,children:Object(I.jsx)(Ne,{person:e})},e.name)}(e)})),t&&Object(I.jsx)(u.a,{item:!0,xs:12,children:Object(I.jsx)(Pe,{})})]}),Object(I.jsx)(me,{})]})}var Te=Object(l.a)((function(){return{root:{minHeight:"100vh",flexGrow:1,width:"100%"}}}));function Re(){var e=Te();return Object(I.jsx)(b.a,{maxWidth:!1,className:e.root,children:Object(I.jsx)(p.a,{height:"100%",children:Object(I.jsx)(De,{})})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,460)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},He=n(98),Be=Object(He.a)({people:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var n=ce(t.payload.person.name,e.people);return n?e:Object(d.a)(Object(d.a)({},e),{},{people:[].concat(Object(Y.a)(e.people),[t.payload.person])});case Z:return Object(d.a)(Object(d.a)({},e),{},{people:e.people.filter((function(e){return e.name!==t.payload.person.name}))});case ee:return ae(t.payload.person.name,q.Increment,e);case te:return ae(t.payload.person.name,q.Decrement,e);case ne:return Object(d.a)(Object(d.a)({},e),{},{showAddPersonDialog:!e.showAddPersonDialog});default:return e}},happyHourSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(d.a)(Object(d.a)({},e),{},{beerPrice:t.payload.price});case S:return Object(d.a)(Object(d.a)({},e),{},{hasCovert:!e.hasCovert});case C:return Object(d.a)(Object(d.a)({},e),{},{covertPrice:t.payload.price});case w:return Object(d.a)(Object(d.a)({},e),{},{hasServiceFee:!e.hasServiceFee});case P:return Object(d.a)(Object(d.a)({},e),{},{serviceFee:t.payload.fee});default:return e}}});var Ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||He.b,Le=function(){var e=localStorage.getItem("happily");return null===e?{}:JSON.parse(e)}(),Me=Object(He.c)(Be,Le,Ge());Me.subscribe((function(){return function(e){var t=JSON.stringify(e);localStorage.setItem("happily",t)}(Me.getState())}));var Ve=Me,We=n(226),Je=n(128),$e=Object(We.a)({palette:{primary:{main:Je.a[600]},secondary:{main:V.a[800]},background:{default:V.a[100]}}});o.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(i.a,{store:Ve,children:Object(I.jsxs)(s.a,{theme:$e,children:[Object(I.jsx)(j.a,{}),Object(I.jsx)(Re,{})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ae()}},[[395,1,2]]]);
//# sourceMappingURL=main.879d6cb7.chunk.js.map